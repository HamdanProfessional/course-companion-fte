{"jsonrpc":"2.0","result":{"contents":[{"uri":"ui://widget/achievements.html","mimeType":"text/html+skybridge","text":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Achievements</title>\n    <style>\n        * { box-sizing: border-box; margin: 0; padding: 0; }\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            font-size: 14px;\n            line-height: 1.5;\n            color: #1a1a1a;\n            background: #f9fafb;\n            padding: 16px;\n        }\n        .header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 20px;\n            padding-bottom: 12px;\n            border-bottom: 2px solid #e5e7eb;\n        }\n        h2 { font-size: 18px; font-weight: 600; color: #111827; }\n        .stats {\n            display: flex;\n            gap: 16px;\n            font-size: 12px;\n            color: #6b7280;\n        }\n        .stat { display: flex; align-items: center; gap: 4px; }\n        .achievements-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n            gap: 12px;\n        }\n        .achievement-card {\n            padding: 16px;\n            background: #ffffff;\n            border: 2px solid #e5e7eb;\n            border-radius: 12px;\n            text-align: center;\n            transition: all 0.2s ease;\n            cursor: default;\n        }\n        .achievement-card.unlocked {\n            border-color: #fbbf24;\n            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\n            box-shadow: 0 2px 8px rgba(251, 191, 36, 0.2);\n        }\n        .achievement-card.locked {\n            opacity: 0.6;\n            filter: grayscale(0.5);\n        }\n        .icon { font-size: 32px; margin-bottom: 8px; }\n        .achievement-name {\n            font-size: 11px;\n            font-weight: 600;\n            color: #111827;\n            margin-bottom: 4px;\n        }\n        .achievement-description {\n            font-size: 10px;\n            color: #6b7280;\n            line-height: 1.3;\n        }\n        .rarity {\n            display: inline-block;\n            margin-top: 6px;\n            font-size: 9px;\n            font-weight: 600;\n            text-transform: uppercase;\n            padding: 2px 6px;\n            border-radius: 4px;\n        }\n        .rarity.common { background: #d1d5db; color: #374151; }\n        .rarity.rare { background: #bfdbfe; color: #1e40af; }\n        .rarity.epic { background: #c4b5fd; color: #5b21b6; }\n        .rarity.legendary { background: #fde047; color: #854d0e; }\n        .progress-bar {\n            height: 4px;\n            background: #e5e7eb;\n            border-radius: 2px;\n            margin-top: 8px;\n            overflow: hidden;\n        }\n        .progress-fill {\n            height: 100%;\n            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\n            transition: width 0.3s ease;\n        }\n        .empty-state {\n            text-align: center;\n            padding: 40px 20px;\n            color: #9ca3af;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"app\">\n        <div class=\"header\">\n            <h2>üèÜ Achievements</h2>\n            <div class=\"stats\">\n                <div class=\"stat\">\n                    <span id=\"unlocked-count\">0</span>\n                    <span>/</span>\n                    <span id=\"total-count\">0</span>\n                    <span>Unlocked</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"achievements-grid\" id=\"achievements-grid\"></div>\n    </div>\n    <script>\n        const toolOutput = window.openai?.toolOutput;\n        const grid = document.getElementById('achievements-grid');\n        const unlockedCount = document.getElementById('unlocked-count');\n        const totalCount = document.getElementById('total-count');\n\n        if (toolOutput && Array.isArray(toolOutput)) {\n            const achievements = toolOutput;\n            const unlocked = achievements.filter(a => a.unlocked_at);\n\n            totalCount.textContent = achievements.length;\n            unlockedCount.textContent = unlocked.length;\n\n            if (achievements.length === 0) {\n                grid.innerHTML = `\n                    <div class=\"empty-state\" style=\"grid-column: 1/-1;\">\n                        <p>No achievements available</p>\n                    </div>\n                `;\n                return;\n            }\n\n            achievements.forEach(achievement => {\n                const card = document.createElement('div');\n                const isUnlocked = achievement.unlocked_at !== null;\n                card.className = `achievement-card ${isUnlocked ? 'unlocked' : 'locked'}`;\n\n                card.innerHTML = `\n                    <div class=\"icon\">${achievement.icon}</div>\n                    <div class=\"achievement-name\">${achievement.name}</div>\n                    <div class=\"achievement-description\">${achievement.description}</div>\n                    <span class=\"rarity ${achievement.rarity}\">${achievement.rarity}</span>\n                    ${!isUnlocked && achievement.progress > 0 ? `\n                        <div class=\"progress-bar\">\n                            <div class=\"progress-fill\" style=\"width: ${achievement.progress}%\"></div>\n                        </div>\n                    ` : ''}\n                `;\n\n                grid.appendChild(card);\n            });\n        }\n    </script>\n</body>\n</html>"}]},"id":1}