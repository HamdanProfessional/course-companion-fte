/**
 * Nebula/Cosmic Theme for Course Companion FTE
 *
 * An immersive space-themed dark theme with cosmic colors, animations, and glass-morphism.
 * Deep space environment with nebula purples, blues, and glowing accents.
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Background Colors - Cosmic Theme */
    --bg-primary: #0f111a; /* Deep space dark */
    --bg-secondary: #1e2133; /* Dark space blue */
    --bg-elevated: #252942; /* Higher elevation */

    /* Text Colors */
    --text-primary: #f1f3f7; /* Starlight white */
    --text-secondary: #94a3b8; /* Light gray */
    --text-muted: #64748b; /* Medium gray */

    /* Accent Colors - Nebula Theme */
    --accent-primary: #8b5cf6; /* Nebula violet HSL(265 85% 65%) */
    --accent-secondary: #a855f7; /* Cosmic purple HSL(280 75% 60%) */
    --accent-success: #22c55e; /* Green star */
    --accent-warning: #f59e0b; /* Orange star */
    --accent-danger: #ef4444; /* Red nebula */
    --accent-premium: #8b5cf6; /* Purple for premium */
    --accent-info: #0ea5e9; /* Blue nebula */

    /* Border Colors */
    --border-default: #1e2133;
    --border-focus: #8b5cf6;

    /* Spacing Scale */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 3rem;

    /* Typography Scale */
    --text-xs: 0.75rem;
    --text-sm: 0.875rem;
    --text-base: 1rem;
    --text-lg: 1.125rem;
    --text-xl: 1.25rem;
    --text-2xl: 1.5rem;
    --text-3xl: 1.875rem;
    --text-4xl: 2.25rem;

    /* Border Radius */
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
  }

  * {
    @apply border-border-default;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-cosmic-bg text-text-primary;
    font-feature-settings: "rlig" 1, "calt" 1;
    min-height: 100vh;
    line-height: 1.6;
    background: linear-gradient(135deg, #0f111a 0%, #1a1d2e 50%, #0f111a 100%);
    background-attachment: fixed;
  }

  /* Focus visible styles for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-cosmic-primary ring-offset-2 ring-offset-cosmic-bg;
  }

  /* Selection styling */
  ::selection {
    background: rgba(139, 92, 246, 0.3);
    color: white;
  }

  /* Skip link for accessibility */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4;
    @apply bg-cosmic-primary text-white px-4 py-2 rounded-lg z-50;
  }

  /* Custom scrollbar - Nebula Theme */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: #0f111a;
  }

  ::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #8b5cf6, #0ea5e9);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #7c3aed, #0284c7);
  }
}

@layer components {
  /* Professional Card Styles with Glass-morphism */
  .card {
    @apply bg-glass-surface border border-glass-border rounded-xl;
    @apply shadow-sm hover:shadow-md;
    @apply transition-all duration-200;
    backdrop-filter: blur(10px);
  }

  .card-elevated {
    @apply bg-glass-surface border border-glass-border rounded-xl;
    @apply shadow-md hover:shadow-lg;
    @apply transition-all duration-200;
    backdrop-filter: blur(10px);
  }

  .card-borderless {
    @apply bg-glass-surface rounded-xl;
    @apply transition-all duration-200;
    backdrop-filter: blur(10px);
  }

  /* Glass-morphism utility */
  .glass {
    background: rgba(24, 21, 41, 0.6);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(139, 92, 246, 0.2);
  }

  /* Text gradient */
  .text-gradient {
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Glow effect */
  .glow {
    box-shadow: 0 0 40px rgba(139, 92, 246, 0.3);
  }

  .glow-success {
    box-shadow: 0 0 40px rgba(34, 197, 94, 0.3);
  }

  .glow-danger {
    box-shadow: 0 0 40px rgba(239, 68, 68, 0.3);
  }

  /* Professional Button Styles - Nebula Theme */
  .btn-primary {
    @apply bg-gradient-to-r from-cosmic-primary to-cosmic-purple text-white font-semibold;
    @apply hover:shadow-glow-purple active:scale-95;
    @apply transition-all duration-200;
  }

  .btn-secondary {
    @apply bg-glass-surface border border-glass-border text-text-primary;
    @apply hover:bg-cosmic-secondary;
    @apply transition-all duration-200;
  }

  .btn-ghost {
    @apply text-text-secondary hover:text-text-primary hover:bg-glass-surface;
    @apply transition-all duration-200;
  }

  .btn-danger {
    @apply bg-gradient-to-r from-red-500 to-rose-600 text-white;
    @apply hover:shadow-glow-red active:scale-95;
    @apply transition-all duration-200;
  }

  .btn-success {
    @apply bg-gradient-to-r from-emerald-400 to-teal-500 text-white;
    @apply hover:shadow-glow-green active:scale-95;
    @apply transition-all duration-200;
  }

  /* Input Styles */
  .input {
    @apply bg-glass-surface border border-glass-border rounded-lg;
    @apply text-text-primary placeholder-text-muted;
    @apply focus:border-cosmic-primary focus:ring-1 focus:ring-cosmic-primary;
    @apply transition-all duration-200;
  }

  /* Progress Bar */
  .progress {
    @apply bg-cosmic-secondary rounded-full overflow-hidden;
  }

  .progress-bar {
    @apply bg-gradient-to-r from-cosmic-primary to-cosmic-blue h-full transition-all duration-300 ease-out;
  }

  /* Badge Styles */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-default {
    @apply bg-cosmic-secondary text-text-secondary;
  }

  .badge-success {
    @apply bg-emerald-500/20 text-emerald-400 border border-emerald-500/30;
  }

  .badge-warning {
    @apply bg-amber-500/20 text-amber-400 border border-amber-500/30;
  }

  .badge-danger {
    @apply bg-red-500/20 text-red-400 border border-red-500/30;
  }

  .badge-premium {
    @apply bg-purple-500/20 text-purple-400 border border-purple-500/30;
  }

  .badge-info {
    @apply bg-blue-500/20 text-blue-400 border border-blue-500/30;
  }

  /* Difficulty Badges - Cosmic Theme */
  .badge-beginner {
    @apply bg-emerald-500/20 text-emerald-400 border border-emerald-500/30;
  }

  .badge-intermediate {
    @apply bg-blue-500/20 text-blue-400 border border-blue-500/30;
  }

  .badge-advanced {
    @apply bg-purple-500/20 text-purple-400 border border-purple-500/30;
  }

  /* Container */
  .container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Celebration Animation (triggered once) */
  @keyframes celebrate {
    0% { transform: scale(0.8); opacity: 0; }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); opacity: 1; }
  }

  .celebrate {
    animation: celebrate 0.5s ease-out;
  }

  /* Fade in animation */
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .fade-in {
    animation: fade-in 0.3s ease-out;
  }
}

@layer utilities {
  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }

  /* Custom scrollbar class */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: #0f111a;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #8b5cf6, #0ea5e9);
    border-radius: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #7c3aed, #0284c7);
  }

  /* Cosmic glow utilities */
  .cosmic-glow-purple {
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.5), 0 0 40px rgba(139, 92, 246, 0.3);
  }

  .cosmic-glow-blue {
    box-shadow: 0 0 20px rgba(14, 165, 233, 0.5), 0 0 40px rgba(14, 165, 233, 0.3);
  }
}
