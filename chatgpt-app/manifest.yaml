# Course Companion FTE - ChatGPT App Manifest
# Zero-Backend-LLM Architecture: All AI intelligence happens in ChatGPT
#
# This manifest defines the ChatGPT App configuration, including backend API tools,
# educational skills, and conversation flow for the Course Companion FTE.

name: Course Companion FTE
description: |
  Your AI-powered tutor for mastering AI Agent Development.

  Get personalized explanations, take quizzes, track progress, and learn 24/7 with
  the Course Companion FTE - a Digital Full-Time Equivalent educational tutor.

  **Features:**
  - Personalized concept explanations at your learning level
  - Interactive quizzes with immediate feedback
  - Progress tracking and streak gamification
  - Socratic tutoring for problem-solving guidance

  **Free Tier:**
  - First 3 chapters of course content
  - Basic quizzes for free chapters
  - Progress tracking
  - Streak gamification

  **Premium Tier:**
  - All 10 chapters (unlimited access)
  - Advanced quizzes with detailed feedback
  - Priority support
  - Certificates of completion

version: 1.0.0
author: Course Companion FTE Team

# ============================================================================
# Environment Variables
# ============================================================================

env:
  BACKEND_URL: "https://course-companion-fte-backend.fly.dev"
  DEFAULT_USER_ID: "00000000-0000-0000-0000-000000000001"

  # Note: When deploying, update BACKEND_URL to your deployed backend URL

# ============================================================================
# Backend API Tools
# ============================================================================
# These tools are called by the Course Companion FTE agent to fetch content
# from the Zero-Backend-LLM backend API.

tools:
  - name: list_chapters
    description: List all available chapters in the course
    endpoint: ${BACKEND_URL}/api/v1/chapters
    method: GET

  - name: get_chapter
    description: Get detailed chapter content including text and metadata
    endpoint: ${BACKEND_URL}/api/v1/chapters/{chapter_id}
    method: GET

  - name: get_next_chapter
    description: Get the next chapter in the course sequence
    endpoint: ${BACKEND_URL}/api/v1/chapters/{chapter_id}/next
    method: GET

  - name: search_content
    description: Search course content for specific topics
    endpoint: ${BACKEND_URL}/api/v1/search
    method: GET
    parameters:
      - name: q
        description: Search query string
        type: string
        required: true
      - name: limit
        description: Maximum number of results
        type: number
        default: 10

  - name: get_quiz
    description: Get quiz questions for a specific quiz
    endpoint: ${BACKEND_URL}/api/v1/quizzes/{quiz_id}
    method: GET

  - name: submit_quiz
    description: Submit quiz answers for grading
    endpoint: ${BACKEND_URL}/api/v1/quizzes/{quiz_id}/submit
    method: POST
    parameters:
      - name: answers
        description: Map of question IDs to selected answers
        type: object
        required: true

  - name: get_progress
    description: Get user's learning progress and completion stats
    endpoint: ${BACKEND_URL}/api/v1/progress/{user_id}
    method: GET

  - name: update_progress
    description: Mark a chapter as complete and update progress
    endpoint: ${ENDPOINT_URL}/api/v1/progress/{user_id}
    method: PUT
    parameters:
      - name: chapter_id
        description: ID of the chapter to mark complete
        type: string
        required: true

  - name: get_streak
    description: Get user's streak information
    endpoint: ${BACKEND_URL}/api/v1/streaks/{user_id}
    method: GET

  - name: record_checkin
    description: Record daily activity checkin
    endpoint: ${BACKEND_URL}/api/v1/streaks/{user_id}/checkin
    method: POST

  - name: check_access
    description: Check if user has access to premium content
    endpoint: ${BACKEND_URL}/api/v1/access/check
    method: POST
    parameters:
      - name: user_id
        description: User ID to check access for
        type: string
        required: true
      - name: resource
        description: Resource identifier (e.g., "chapter-4")
        type: string
        required: true

  - name: get_user_tier
    description: Get user's subscription tier
    endpoint: ${BACKEND_URL}/api/v1/user/{user_id}/tier
    method: GET

# ============================================================================
# Educational Skills
# ============================================================================
# These skills are dynamically loaded based on detected user intent.
# Each skill contains procedural knowledge for specific educational tasks.

skills:
  concept-explainer:
    name: Concept Explainer
    file: .claude/skills/concept-explainer/SKILL.md
    triggers:
      - "explain"
      - "what is"
      - "how does"
      - "describe"
      - "tell me about"
      - "clarify"
      "define"

  quiz-master:
    name: Quiz Master
    file: .claude/skills/quiz-master/SKILL.md
    triggers:
      - "quiz"
      - "test me"
      - "practice"
      - "check my knowledge"
      - "assess"

  socratic-tutor:
    name: Socratic Tutor
    file: .claude/skills/socratic-tutor/SKILL.md
    triggers:
      - "stuck"
      - "help me think"
      - "give me a hint"
      - "i'm lost"
      - "guide me"
      - "walk me through"

  progress-motivator:
    name: Progress Motivator
    file: .claude/skills/progress-motivator/SKILL.md
    triggers:
      - "progress"
      - "streak"
      - "how am i doing"
      - "my stats"
      - "where am i"
      - "what have i completed"

# ============================================================================
# Agent Configuration
# ============================================================================
# The Course Companion FTE agent orchestrates intent detection, skill loading,
# and backend API integration to deliver a conversational learning experience.

agent:
  name: course-companion-fte
  role: Educational Tutor
  instructions: |
    You are the Course Companion FTE, a Digital Full-Time Equivalent tutor for mastering AI Agent Development.

    **Core Principles:**
    1. Zero-LLM Backend: All AI intelligence happens here in ChatGPT. The backend serves content verbatim only.
    2. Intent Detection: Detect what the student needs (explain, quiz, help, progress)
    3. Skill Loading: Load appropriate educational skill for the task
    4. Backend Integration: Fetch content from backend when needed

    **Intent Detection Priority:**
    1. Quiz - "quiz me", "test me", "practice"
    2. Explain - "explain", "what is", "how does"
    3. Socratic - "stuck", "help me think", "give me a hint"
    4. Progress - "progress", "streak", "how am I doing"
    5. General - Fallback to helpful tutoring

    **Tone and Style:**
    - Supportive and encouraging
    - Celebrate achievements
    - Provide constructive feedback
    - Adaptive to learner's level
    - Professional yet friendly

    **Error Handling:**
    - If backend is unavailable: Use cached knowledge and suggest retrying
    - If access denied: Explain premium benefits and upgrade path
    - If content not found: Offer to help with general knowledge
    - Always maintain conversation continuity

# ============================================================================
# Course Information
# ============================================================================

course:
  name: AI Agent Development
  description: Learn to build AI agents using Claude, MCP, and the Agent Factory
  total_chapters: 10
  estimated_duration: "5-7 hours"
  difficulty: "Beginner to Intermediate"
  topics:
    - Model Context Protocol (MCP)
    - Claude Agent Architecture
    - Tool Use and Function Calling
    - Agent Factory Pattern
    - Multi-Agent Systems

# ============================================================================
# Conversation Examples
# ============================================================================

examples:
  - input: "Explain what MCP is"
    output: |
      **MCP (Model Context Protocol)** is like a universal USB cable for AI applications.

      It lets AI models connect to external data sources and tools in a standardized way.

      Think of it this way:
      - **Before MCP**: Every AI app needed custom integrations
      - **With MCP**: Universal compatibility between AI and data/tools

      **Key Benefits:**
      - Standardized connections
      - Tool extensibility
      - Data source flexibility

      Would you like me to explain how to build an MCP server?

  - input: "Quiz me on MCP"
    output: |
      Great! Let's test your knowledge of MCP with a quick quiz. üéØ

      **Question 1:** What does MCP stand for?
      A) Model Control Program
      B) Model Context Protocol
      C) Machine Learning Protocol
      D) Multi-Cloud Platform

      Type your answer (A, B, C, or D)!

  - input: "How am I doing?"
    output: |
      Let me check your progress... üìä

      **Your Learning Journey:**
      - Course Completion: 20% (2/10 chapters)
      - Current Streak: 3 days üî•
      - Quizzes Passed: 2/2
      - Last Activity: Today

      You're making excellent progress! Keep up the momentum! üí™

  - input: "I'm stuck on building an MCP server"
    output: |
      I'll help you work through this step by step! üéØ

      Let me ask a guiding question: **What specific part is giving you trouble?**

      - Understanding the MCP protocol itself?
      - Setting up the server implementation?
      - Integrating with Claude/ChatGPT?
      - Testing and verification?

      Once I understand where you're stuck, I can guide you toward the solution!

# ============================================================================
# Error Handling Responses
# ============================================================================

error_handling:
  backend_unavailable: |
    ‚ö†Ô∏è **Connection Issues**

    I'm having trouble connecting to the course backend right now. Let me help you with what I know, and we can try again in a moment.

    What would you like to explore?
    - Course concepts (MCP, Neural Networks, AI Agents)
    - General questions about AI/ML
    - Study tips and strategies

    Or we can try the connection again!

  access_denied: |
    üîí **Premium Content**

    This content is part of our Premium tier. Your current tier doesn't include access.

    **Free Tier includes:**
    - First 3 chapters
    - Basic quizzes
    - Progress tracking

    **Premium Tier includes:**
    - All 10 chapters
    - Advanced quizzes with detailed feedback
    - Priority support
    - Certificates

    Upgrade to unlock all content! üöÄ

  not_found: |
    üìö **Content Not Found**

    I couldn't find that specific content in our course materials.

    Let me help you find what you're looking for! What topic are you interested in?

    Popular topics:
    - Model Context Protocol (MCP)
    - AI Agents
    - Tool Use & Function Calling
    - Multi-Agent Systems

  timeout: |
    ‚è≥ **Taking Longer Than Expected**

    The request is taking longer than usual. Let's try that again.

    In the meantime, is there something else I can help you with?

# ============================================================================
# Development Notes
# ============================================================================

development:
  # Backend must be deployed first
  backend_required: true

  # Skills must be available in .claude/skills/
  skills_required: true

  # Zero-LLM compliance validation
  zero_llm_backend: true
  no_llm_api_calls: true

  # Testing
  test_backend_url: http://localhost:8000
  test_user_id: 00000000-0000-0000-0000-000000000001
